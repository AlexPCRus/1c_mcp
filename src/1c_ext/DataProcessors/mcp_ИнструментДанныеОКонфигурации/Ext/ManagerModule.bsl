Процедура ДобавитьИнструменты(СписокИнструментов) Экспорт

    Новая = СписокИнструментов.Добавить();
    Новая.name          = "list_metadata_objects";
    Новая.description   = "Возвращает список объектов выбранного типа из Метаданные()";
    Новая.inputSchema   = "{""type"":""object"",""properties"":{...}}";

КонецПроцедуры


Функция ВыполнитьИнструмент(ИмяИнструмента, Аргументы) Экспорт

    Если ИмяИнструмента = "list_metadata_objects" Тогда
        Возврат СписокМетаданных(Аргументы);
    Иначе
        ВызватьИсключение "Неизвестный инструмент: " + ИмяИнструмента;
    КонецЕсли;

КонецФункции


Функция СписокМетаданных(Аргументы)

	//// Значения по умолчанию
	//МетаТип     = Аргументы.metaType;
	//МаскаИмени  = ?(Аргументы.Свойство("nameMask"), Аргументы.nameMask, "");
	//Лимит       = ?(Аргументы.Свойство("maxItems"), Аргументы.maxItems, 100);

	//// Получаем коллекцию нужного типа
	//Коллекция = Неопределено;
	//Если Метаданные().Свойство(МетаТип) Тогда
	//    Коллекция = Метаданные()[МетаТип];
	//Иначе
	//    Возврат Новый Массив; // неизвестный тип – вернём пусто
	//КонецЕсли;

	//Результат = Новый Массив;

	//Для Каждого Элемент Из Коллекция Цикл
	//    Если МаскаИмени <> "" И Не СтрНайти(Элемент.Имя, МаскаИмени) > 0 Тогда
	//        Продолжить;
	//    КонецЕсли;

	//    Результат.Добавить(Новый Структура(
	//        "name",     Элемент.Имя,
	//        "synonym",  Элемент.Синоним
	//    ));

	//    Если Результат.Количество() >= Лимит Тогда
	//        Прервать;
	//    КонецЕсли;
	//КонецЦикла;

	//Возврат Результат;

КонецФункции

